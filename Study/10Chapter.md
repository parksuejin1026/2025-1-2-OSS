# 📚 Git 핵심: 버전 되돌리기 (`reset`)와 커밋 취소 (`revert`) 정리

## 1. Git 3 영역 개요 (Reset/Revert의 대상)

Git은 세 가지 영역 간의 파일을 관리하며, `reset`과 `revert`는 이 영역에 영향을 줍니다.

| 영역 | 역할 | `reset` `--hard` 시 영향 |
| :--- | :--- | :--- |
| **작업 디렉토리 (Working Directory)** | 실제 파일을 수정하는 공간 버전 되돌리기 reset.pdf] | 변경 사항 삭제 후 커밋 내용으로 복사 |
| **스테이징 영역 (Staging Area)** | 다음 커밋을 준비하는 공간 버전 되돌리기 reset.pdf] | 변경 사항 삭제 후 커밋 내용으로 복사 |
| **깃 저장소 (Git Repository)** | 커밋 이력(버전)이 저장되는 곳 버전 되돌리기 reset.pdf] | HEAD 포인터가 이전 커밋으로 이동하며 이력 삭제 |

---

## 2. 버전 되돌리기 명령: `git reset` (타임 머신)

**`git reset`**은 커밋 이력에서 **특정 커밋으로 완전히 되돌아가는** 기능입니다. 이동된 커밋 이후의 이력은 **모두 사라집니다** 버전 되돌리기 reset.pdf].

| 옵션 | 설명 | 작업 디렉토리 | 스테이징 영역 | 깃 저장소 (커밋 이력) |
| :--- | :--- | :--- | :--- | :--- |
| **`--hard`** | 지정 커밋의 내용으로 **모두 복사** (가장 강력) | **수정** (이전 내용 삭제) | **수정** (이전 내용 삭제) | **수정** (이후 이력 삭제) |
| **`--mixed`** (기본) | 지정 커밋의 내용으로 스테이징 및 저장소 복사 | **유지** (변경 사항이 남아있음) | **수정** (이전 내용 삭제) | **수정** (이후 이력 삭제) |
| **`--soft`** | 지정 커밋의 내용으로 저장소만 복사 | **유지** (변경 사항이 남아있음) | **유지** (변경 사항이 남아있음) | **수정** (이후 이력 삭제) |

### 💡 `reset` 심화 활용 팁

* **되돌리기 취소 (복원):** `git reset --hard ORIG_HEAD` 명령을 사용하면 직전 `reset` 실행 이전 상태로 복원할 수 있습니다 버전 되돌리기 reset.pdf].
* **HEAD 참조:** `HEAD~` 또는 `HEAD^`는 바로 이전 커밋을, `HEAD~2` 또는 `HEAD^^`는 두 개 전 커밋을 의미합니다.

---

## 3. 커밋 취소 명령: `git revert` (되돌림 커밋 생성)

**`git revert`**는 지정한 커밋의 변경 사항을 되돌리는 **새로운 커밋(취소 커밋)**을 생성합니다.

* **핵심 원칙:** 이전의 커밋 히스토리가 **그대로 유지**되므로, **원격 저장소에 Push 한 이력**을 되돌릴 때 안전하게 사용됩니다.
* **수행 조건:** `revert` 실행 전, 작업 디렉토리가 **깨끗한 상태**(`Nothing to commit, working tree clean`)여야 합니다.

| 명령 | 역할 및 설명 |
| :--- | :--- |
| **`$ git revert HEAD`** | 가장 최근 커밋(HEAD)을 취소하는 새로운 커밋을 생성합니다. (편집기 실행) |
| **`$ git revert HEAD --no-edit`** | 편집기 실행 없이 커밋 메시지가 자동으로 `'Revert "이전 커밋 메시지"'`로 지정되어 커밋을 생성합니다. |
| **`$ git revert --continue`** | 충돌 해결 후 `revert` 작업을 계속 진행합니다. |
| **`$ git revert --abort`** | 충돌 발생 후 `revert` 작업을 중단하고 이전 상태로 되돌립니다. |

---

## 4. `reset` vs `revert` vs `checkout` 비교 
| 항목 | `git reset` (되돌리기) | `git revert` (취소) | `git checkout` (이동/전환) |
| :--- | :--- | :--- | :--- |
| **기능** | 특정 커밋으로 **이동** | 특정 커밋을 **취소**하는 새로운 커밋 생성 | 특정 커밋/브랜치로 **HEAD 이동/전환** |
| **커밋 이력** | 이후 이력 **삭제됨** | 이전 이력 **유지됨** | 브랜치/커밋 위치만 변경 (이력 유지) |
| **새 커밋 생성** | **없음** | **있음** | **없음** |
| **사용 환경** | **로컬 작업** 환경 | **공개된/공유된** 원격 저장소 | **브랜치/버전** 전환 및 확인 |
| **조건** | 작업 디렉토리 상태 **상관없음** | `working tree clean` **필수** | `working tree clean` **필수** (변경 사항을 잃을 수 있음) |
| **충돌** | **없음** | **발생할 수 있음** (충돌 해결 필요) | **없음** (변경 사항이 있으면 이동 불가) |